<!doctype html>  
<html>
	<head>
		<meta charset="utf-8">
		<title>Integrating Web Content</title>
		<meta name="description" content="Integrating Web Content, Titanium Certified Developer Training">
    	<meta name="author" content="Appcelerator, Inc." />
		
		<link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" href="../../presentation-engine/reveal.js/css/reset.css">
		<link rel="stylesheet" href="../../presentation-engine/reveal.js/css/main.css">
		<link rel="stylesheet" href="../css/magula.css">
		<link rel="stylesheet" href="../css/presentation.css">
		<script type="text/javascript" src="../../presentation-engine/js/l10n.js"></script>
		<script type="text/javascript" src="i18n/localizations.js"></script>
		<script>
		function loadStyleSheet(url){
		    if(document.createStyleSheet) {
		        try {document.createStyleSheet(url);} catch (e) { }
		    }
		    else{
		        var css;
		        css         = document.createElement('link');
		        css.rel     = 'stylesheet';
		        css.type    = 'text/css';
		        css.media   = "all";
		        css.href    = url;
		        document.getElementsByTagName("head")[0].appendChild(css);
		    }
		}
		var browserlang = document.documentElement.lang || String.locale || 'en-US';
		loadStyleSheet('../css/'+browserlang+'.css');
		</script>
		<link rel="stylesheet" href="../../presentation-engine/reveal.js/css/print.css" media="print">
	</head>
	
	<body>
		<div id="reveal">	
			<!-- Any section element inside of this container is displayed as a slide -->

			<!--
				SLIDE INSTRUCTIONS:
					- Set the <title> tag to this lesson's US English title
					- Set the <meta description tag to the US English course & lesson title
					- Add one <section></section> for each slide. Slides can contain most any valid HTML
					- Each text tag (<p> or <li> or <h1> etc.) must have a class name that begins with
						"l_" and is unique. Each of those class names must be added to the i18n/localizations.js
						file and their values must be set equal to the US English version of the strings. That 
						file is used for translation and its contents OVERRIDES the text in this file.
					- Each slide must have a <div class="slidenote"></div> container, which can be empty. These
						are used for presenter notes. They also must be given unique "l_" classnames and strings
						provided in the localizations.js file.
					- Please use inline CSS on the slides to size & arrange contents.
					- Graphics should be placed in the images folder and cropped/sized appropriately.
					- Assume a 1024 x 768 display resolution
					- A link to the index.html for each lesson must be added in order to the coursename/index.html
						title slide.
			-->
			
			
			<div class="slides">
				
				<section>
					<h1 style="margin-top:100px;" class="l_lessontitle">Integrating Web Content</h1>
					<h5 class="l_subtitle">Titanium Certified Developer (TCD) Training</h5>
					<script>
						// DO NOT REMOVE THIS, MUST BE INCLUDED WITH THE FIRST SLIDE
						if( navigator.userAgent.match( /(iPhone|iPad|iPod|Android)/i ) )
						document.write( '<p style="color: rgba(0,0,0,0.3); text-shadow: none;">('+'Tap to navigate'+')</p>' );
					</script>
				<div class="slidenote"><p class="l_slidenote_titleslide"></p></div>
				</section>
				
<!-- EVERY LESSON MUST HAVE AN AGENDA SLIDE, WHICH LISTIS THE OBJECTIVES THAT WILL BE LEARNED BY THE STUDENT. USE PERFORMANCE-BASED OBJECTIVE STATEMENTS (IN OTHER WORDS, DESCRIBE WHAT THEY WILL DO) -->
				<section id="agenda">
					<h1 style="margin-top:50px;" class="l_agenda_title">In this lesson, you will:</h1>
			    	<ul>
			    		<li class="l_agenda1">Integrate the WebView component into your application</li>
			    		<li class="l_agenda2">Explore WebView gotchas that you must watch out for in your apps</li>
			    		<li class="l_agenda3">Identify novel uses of the WebView</li>
			    	</ul>
					<div class="slidenote">
						<div class="l_slidenote_agenda"></div>
					</div>
				</section>

				<section>
					<h2 class="l_integrating_web">Integrating Web Content</h2>
					<p align="left" class="l_html_embed">HTML/CSS are embedded in much data on the web</p><br>
					<p align="left" class="l_html_often">HTML/CSS are often the only/best way to accomplish certain tasks:</p><br>
					<div align="left"><ul>
					<li class="l_rendering">Rendering HTML/CSS (duh)</li>
					<li class="l_canvas">Canvas (animations)</li>
					<li class="l_integrating">Integrating existing web-based tools</li>
					<li class="l_walking">Walking HTML documents</li>
					</ul></div>
					<div class="slidenote"><div class="l_slidenote_integrating_web">Many business-use cases for using HTML/CSS in your app<br>Might be easiest way to go<br>Canvas for animations<br>Existing libraries (graphing, jquery)<br>DOM manipulations and access</div></div>
				</section>
			
				<section>
					<h2 class="l_remote_web">Remote Web Content</h2>
					<p align="left" class="l_uses_might">Uses might include pulling in blog content from an RSS feed (hint) or re-purposing (semi) static content from an existing site</p>
					<p><img src="images/remote-web-content.png" style="margin-top:30px;height:350px;align:center"></p>
					<div class="slidenote"><div class="l_slidenote_remote_web">Static / existing web pages<br>Dynamic data from a CMS or web service<br>Embed a web view anywhere in your app (views, windows)</div></div>
				</section>

				<section>
					<h2 class="l_local_web">Local Web Content</h2>
					<p align="left" class="l_webkit_can">Webkit can sometimes do something we can't, or we need to re-use existing code (ours or someone else's) - in those cases, we can ship HTML/CSS/JS with our app</p>
					<p><img src="images/local-web-content.png" style="margin-top:30px;height:350px;align:center"></p>
					<div class="slidenote"><div class="l_slidenote_local_web">Integrated webkit has lots of power and capabilities<br>Easy way to embed custom UI, pre-existing content, formatted text<br>Point URL to local web content file<br>Loaded relative to Resources directory</div></div>
				</section>

				<section>
					<h2 class="l_local_web_inline">Local Web Content - Inline</h2>
					<p align="left" class="l_sometimes">Sometimes HTML markup is the best way to display small chunks of text or links (Android handles both natively)</p>
					<p><img src="images/local-web-content-inline.png" style="margin-top:30px;height:350px;align:center"></p>
					<div class="slidenote"><div class="l_slidenote_local_web_inline">Use HTML property for inline content<br>Native Android support for HTML in labels and some other components<br>E.g. linkify() method will turn links and phone numbers into clickable links<br>See the API docs for more information</div></div>
				</section>

				<section>
					<h2 class="l_communicating_wrapper">Communicating With The Wrapper</h2>
					<p align="left" class="l_remote_web_access">Remote web content has no access to Titanium APIs</p>
					<p align="left" class="l_limited">Limited Titanium API access within local web pages:</p><br>
					<div align="left"><ul>
					<li class="l_logging">Logging APIs (Ti.API.info and friends)</li>
					<li class="l_app_level">Application Level Events<br> (Ti.App.fireEvent/addEventListener)</li>
					</ul></div><br><br>
					<p align="left" class="l_native_api">Native APIs must be accessed indirectly via application level events</p>
					<div class="slidenote"><div class="l_slidenote_communicating_wrapper">Embedded webview is its own execution context<br>Use custom events to communicate with rest of the app<br>For example, geolocation: grab data in native app, fire event passing results to webview<br>Remote content doesn't have access to Ti APIs<br>But you can inject some JS into a remote page to give limited access</div></div>
				</section>

				<section>
					<h2 class="l_webview_gotchas">WebView Gotchas</h2>
					<p align="left" class="l_among_the">Among the most expensive components to create</p><br>
					<p align="left" class="l_should_not">Should not be embedded in other scrollable views</p><br>
					<p align="left" class="l_common_misuse">Common misuse - inside TableViewRows (bad performance)</p><br>
					<p align="left" class="l_its_possible">It is possible to implement your whole UI in HTML/CSS, but native UI is what your users expect</p><br>
					<p align="left" class="l_cant_download">Can't download/run unapproved code from a server</p>
					<div class="slidenote"><div class="l_slidenote_webview_gotchas">Scrollable views, table views &mdash; Touch events can get messed up, bad performance</div></div>
				</section>
				
				<section>
					<h2 class="l_novel_webview">Novel Uses of the WebView</h2>
					<p align="left" class="l_display_text">Display text with embedded links (think Twitter client)</p><br>
					<p align="left" class="l_display_pdf">Display PDF documents and more (iOS, see next slide)</p><br>
					<p align="left" class="l_retrieve_parse">Retrieve and parse HTML using the DOM (easier than in native Ti code, where you'd need to do string gymnastics)</p><br>
					<p align="left" class="l_longer_forms">Longer forms on iOS (next/previous buttons, auto resizing)</p>
					<div class="slidenote"><div class="l_slidenote_novel_webview">iOS &mdash; view PDF (built into Safari) on Android, has to be done through 3rd party app<br>Parsing HTML &mdash; use jquery or other libraries to walk the DOM<br>Forms - auto resizing, auto-scrolling, auto 'Next' button on iOS to ease data entry.</div></div>
				</section>

				<section>
					<h2 class="l_embedded_docs">Embedded Documents on iOS</h2>
					<p class="l_webview_ios">WebView on iOS can display embedded:</p><br>
					<div style="width:70%; margin: 5px auto;">
					<table border="0" align="center">
					<tr>
						<td align="left" class="l_excel"><b>Excel</b></td>
						<td width="175"></td>
						<td align="right" class="l_powerpoint"><b>PowerPoint</b></td>
					</tr>
					<tr>
						<td align="left" class="l_keynote">Keynote</td>
						<td></td>
						<td align="right" class="l_word">Word</td>
					</tr>
					<tr>
						<td align="left" class="l_numbers">Numbers</td>
						<td></td>
						<td align="right" class="l_rtf">RTF</td>
					</tr>
					<tr>
						<td align="left" class="l_pages">Pages</td>
						<td></td>
						<td align="right" class="l_rtf_dir">RTF Directory</td>
					</tr>
					<tr>
						<td align="left" class="l_pdf">PDF</td>
					</tr>
				</table>
					</div>
					<div class="slidenote"><div class="l_slidenote_embedded_docs">Source: http://developer.apple.com/library/ios/#qa/qa1630/_index.html</div></div>
				</section>				

<!-- LESSONS MAY HAVE A DEMO (NOT REQUIRED) IN WHICH THE INSTRUCTOR WILL DEMONSTRATE A SAMPLE APP AND ITS CODE TO ILLUSTRATE THE MATERIALS COVERED IN THE LESSON -->
				<section>
					<h2 style="" class="l_demo">Demo</h2>
					<ul style="width:80%;">
						<li class="l_demo1">What you will demo</li>
						<li class="l_demo2"></li>
						<li class="l_demo3"></li>
						<li class="l_demo4"></li>
					</ul>
					<div class="slidenote"><div class="l_slidenote_demo"></div></div>
				</section>

				
<!-- EVERY LESSON MUST HAVE A SUMMARY, LISTING THE OBJECTIVES THAT WERE LEARNED BY THE STUDENT -->
				<section id="summary">
					<h1 style="" class="l_summary">Summary</h1>
					<p class="l_summarypara">In this lesson, you:</p>
			    	<ul>
			    		<li class="l_summary1">Integrated the WebView component into your application</li>
			    		<li class="l_summary2">Explored WebView gotchas that you must watch out for in your apps</li>
			    		<li class="l_summary3">Identified novel uses of the WebView</li>
			    	</ul>
					<div class="slidenote">
						<div class="l_slidenote_summary"></div>
					</div>
				</section>

<!-- EVERY LESSON MUST HAVE A Q&A SLIDE -->
				<section>
					<h1 class="l_qa">Q&amp;A</h1>
					<div class="slidenote"><div class="l_slidenote_qa"></div></div>
				</section>

<!-- EVERY LESSON SHOULD HAVE A LAB TO GIVE STUDENTS HANDS-ON PRACTICE WITH THE MATERIALS. NOT REQUIRED IF THE MATERIALS DON'T LEND THEMSELVES TO A HANDS-ON LAB -->
				<section>
					<h1 style="" class="l_lab">Lab Objectives</h1>
					<p class="l_labintro">In this lab, you will:</p>

					<ul style="margin-bottom:40px;">
						<li class="l_labobjective1">Create an RSS Reader</li>
						<li class="l_labobjective2">Pull data from an XML feed</li>
						<li class="l_labobjective3">Display individual blog posts in a WebView</li>
						<li class="l_labobjective4">Create an "about" page using local HTML</li>
					</ul>
					<p class="l_labURL" style="font-size:0.7em;margin-top:20px;"><a href='https://wiki.appcelerator.org/display/td/285+Integrating+Web+Content'>wiki.appcelerator.org/display/td/285+Integrating+Web+Content</a></p>
					<div class="slidenote"><div class="l_slidenote_lab">Demo &mdash; Lab285:</b><ol><li>Show scrolling list of news items</li><li>Click one to show web view</li><li>Click About tab to show local HTML data</li></ol><br/>The UI, network, and RSS feed parsing is done already.</div></div>
				</section>

<!-- EVERY LAB SHOULD BE ACCOMPANIED BY A SOLUTION WALK THROUGH. ONLY FILL IN THE SLIDENOTE CONTENT. USE IT TO EXPLAIN WHAT KEY CODE AND CONCEPTS THE INSTRUCTOR SHOULD POINT OUT TO STUDENTS. THIS INFO WILL ALSO BE VIEWABLE BY STUDENTS IN THE PRINTED MANUAL -->
				<section>
					<h2 class="l_solution">Solution Walkthrough</h2>
					<div class="slidenote"><div class="l_slidenote_solution"><b>Code Walk through &mdash; TiBH285</b><br><ul><li>RSSWindow &mdash; table event listener, e.rowData argument, opening modal window, also App-level event listener to load articles once data is retrieved from the network</li><li>ArticleWindow &mdash; 'article' parameter, webview url property</li><li>AboutWindow &mdash; webview url property</li></ul></div></div>
				</section>





			<!-- MAKE NO CHANGES BELOW THIS LINE -->
		</div>

			<!-- Appc logo and presenter notes -->
			<div id="appclogo"><a href="../index.html"><img src="../images/appu_thumb.png"/></a></div>
			<a id="firstslide" onClick="Reveal.navigateTo(0,0);"><img src="../images/agt_desktop_enhancements.png" title='First slide' alt='First'/></a>
			<a id="presenternotes" onClick="openPresenterNotes()"><img src="../images/presenternotes.png" title='Open Presenter Notes Window' alt='Presenter notes'/></a>

			<!-- The navigational controls UI -->
			<aside class="controls">
				<a class="left" href="#">&#x25C4;</a>
				<a class="right" href="#">&#x25BA;</a>
				<a class="up" href="#">&#x25B2;</a>
				<a class="down" href="#">&#x25BC;</a>
			</aside>

			<!-- Displays presentation progress, max value changes via JS to reflect # of slides -->
			<div class="progress"><span></span></div>
			
		</div>
		
		<script src="../../presentation-engine/reveal.js/js/reveal.js"></script>
		<script src="../../presentation-engine/reveal.js/lib/highlight.js"></script>
		<script>
			// Parse the query string into a key/value object
			var query = {};
			location.search.replace( /[A-Z0-9]+?=(\w*)/gi, function(a) {
				query[ a.split( '=' ).shift() ] = a.split( '=' ).pop();
			} );

			Reveal.initialize({
				// Display controls in the bottom right corner
				controls: true,

				// Display a presentation progress bar
				progress: true,

				// If true; each slide will be pushed to the browser history
				history: true,

				// Flags if mouse wheel navigation should be enabled
				mouseWheel: true,

				// Apply a 3D roll to links on hover
				rollingLinks: true,

				// UI style
				theme: query.theme || 'default', // default/neon

				// Transition style
				transition: query.transition || 'default' // default/cube/page/concave/linear(2d)
			});

			hljs.initHighlightingOnLoad();
		</script>
		<script src="../../presentation-engine/js/localize.js"></script>
		<script>
			var presenterNotesWindow = null;
			function openPresenterNotes() {
				presenterNotesWindow = window.open('presenternotes.html', presenterNotesWindow, "location=0,menubar=no,toolbar=no,height=600,width=800");
			}
		</script>
		<script>
		var s = (function load(){
			var s = {};
			if(window.outerHeight){
				s = { w: window.outerWidth, h: window.outerHeight};
			}
			else {
				s = { w: document.body.clientWidth, h: document.body.clientHeight};
			}
			return s;
		})();
		if(s.w < 1000 || s.h < 800) {
			var slides = document.querySelectorAll( '#reveal .slides' );
			for( var i = 0, len = slides.length; i < len; i++ ) {
				slides[i].classList.add( 'smallscreen' );
		    }
		}
		</script>
	</body>
</html>